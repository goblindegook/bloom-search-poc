import{u as l,D as f,o as a,N as y,c as b,k as w}from"./Navigation-9d99fedb.js";import{I as c}from"./Input-c190a520.js";import{S as x,r as A}from"./xxh64-u64-498173eb.js";import{A as I,F as S,h as k}from"./hash-e59e98f5.js";const r=l(100),u=l(3),h=l([]),i=l(Array(r.value).fill(!1)),t=l({word:"",hashes:[]}),n=l({word:"",hashes:[]});function F(){const d=e=>A(0,u.value).map(s=>k(s,e)%r.value),g=()=>{h.value=[],i.value=Array(r.value).fill(!1),t.value={word:"",hashes:[]}},v=n.value.word.length>0,p=n.value.hashes.every(e=>i.value[e]);return a(w,{children:[a(y,{}),a("div",{class:"p-8",children:[a("h1",{class:"text-4xl font-extrabold leading-none tracking-tight text-gray-900 pb-8",children:"Bloom Filter"}),a("div",{class:"grid grid-cols-4 gap-8",children:[a("div",{class:"bg-gray-100 p-8 rounded-lg shadow-sm",children:[a(c,{id:"size",label:"Size",onChange:e=>{r.value=parseInt(e.target.value,10),g()},value:r,type:"number"}),a(c,{id:"hashes",label:"Hashes",onChange:e=>{u.value=parseInt(e.target.value,10),g()},value:u,type:"number"}),a(c,{id:"add",label:"Add Text",onKeyUp:e=>{if(e.key==="Enter"){const s=e.target.value,o=d(s);h.value=h.value.concat(s),o.forEach(m=>{i.value[m]=!0}),t.value={word:s,hashes:o},e.target.value=""}}}),a("ul",{children:h.value.map(e=>{const s=t.value.word===e;return a(I,{value:e,highlighted:s,onClick:o=>{o.preventDefault(),t.value=s?{word:"",hashes:[]}:{word:e,hashes:d(e)}}})})})]}),a("div",{class:"col-span-3",children:[a(x,{id:"search",label:"Search",onKeyUp:e=>{const s=e.target.value;n.value={word:s,hashes:s.length?d(s):[]}},children:v&&a("div",{class:b("text-white absolute right-2.5 bottom-2.5 font-medium rounded-lg text-md px-4 py-2",p?"bg-emerald-700":"bg-rose-700"),children:p?"Probably found":"Definitely missing"})}),a("ul",{class:"grid grid-cols-10 justify-evenly justify-items-center gap-4 m-12",children:i.value.map((e,s)=>a(S,{value:e,index:s,highlighted:t.value.hashes.includes(s),searched:v&&n.value.hashes.includes(s)}))})]})]})]})]})}f(a(F,{}),document.getElementById("app"));
